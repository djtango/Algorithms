blank_sdk = [ [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ] ]

sk1       = [ [ [1], [5], [9],    [ ], [8], [ ],     [7], [ ], [ ] ],
              [ [4], [ ], [ ],    [ ], [ ], [7],     [3], [5], [9] ],
              [ [ ], [3], [ ],    [9], [2], [5],     [ ], [8], [ ] ],

              [ [8], [ ], [ ],    [3], [9], [ ],     [ ], [1], [7] ],
              [ [6], [ ], [1],    [ ], [5], [2],     [ ], [9], [ ] ],
              [ [3], [ ], [7],    [ ], [1], [ ],     [2], [ ], [5] ],

              [ [ ], [1], [ ],    [2], [7], [ ],     [9], [ ], [4] ],
              [ [ ], [6], [3],    [8], [ ], [ ],     [5], [ ], [2] ],
              [ [ ], [7], [4],    [5], [ ], [9],     [ ], [6], [ ] ] ]

sdk2      = [ [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ] ]

sk3       = [ [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],

              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ],
              [ [ ], [ ], [ ],    [ ], [ ], [ ],     [ ], [ ], [ ] ] ]

ONE_TO_NINE = (1..9).to_a


def permissible_values(sudoku, row, column)
  ONE_TO_NINE - same_row(sudoku, row) - same_column(sudoku, column) - same_box(sudoku, row, column)
end

def same_row(sudoku, row)
  sudoku[row].flatten
end

def same_column(sudoku, column)
  sudoku.transpose[column].flatten
end

def same_box(sudoku, row, column)
  box_row = row / 3 * 3
  box_column = column / 3 * 3
  sudoku[box_row..box_row + 2].transpose[box_column..box_column + 2].flatten
end